<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Framework + Supabase + vercel</title>

<!-- DÃ¹ng cho appp.js --
<link rel="stylesheet" href="tasks.css">
<!---->

<!-- DÃ¹ng cho MyTasks.js -->
<link rel="stylesheet" href="TasksStyle.css">
<!---->

<!-- DÃ¹ng cho PublicTasks.js -->
<link rel="stylesheet" href="PublicTasks.css">
<!---->


  <style>

  </style>
</head>
<body>
  <div id="app"></div>

<!-- Framework -->
<script src="./framework/Debugger.js"></script>
<script src="./framework/vdom.js"></script>
<script src="./framework/hooks.js"></script>
<script src="./framework/router.js"></script>
<script src="./framework/init_API.js"></script>
<!---->


<!-- INIT SUPABASE TRÆ¯á»šC --
<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  window.supabase = createClient(
    'https://defkqhylqphoqiikvbii.supabase.co',
    'sb_publishable_vzdQpgqjLL2VE0Oyc0kEJQ_P8XqBwkh'
  );

  console.log('Supabase READY');

  // ðŸš€ SAU KHI SUPABASE READY â†’ LOAD APP

  const script = document.createElement('script');
  //script.src = 'Tasks.js'; 
  //document.body.appendChild(script);
  
  //script.src = 'test.js';
  //script.src = 'app.js';
  //script.src = 'appp.js';

  // Test db cho user logined success
  script.src = 'MyTasks.js';
  
  document.body.appendChild(script);
  
  
</script>
<!---->


<!----
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>

<script>
window.supabase = createClient(
    'https://defkqhylqphoqiikvbii.supabase.co',
    'sb_publishable_vzdQpgqjLL2VE0Oyc0kEJQ_P8XqBwkh'
  );

  console.log('Supabase READY');

  // ðŸš€ SAU KHI SUPABASE READY â†’ LOAD APP

  const script = document.createElement('script');
  //script.src = 'Tasks.js'; 
  //document.body.appendChild(script);
  
  //script.src = 'test.js';
  //script.src = 'app.js';
  //script.src = 'appp.js';

  // Test db cho user logined success
  script.src = 'MyTasks.js';
  
  document.body.appendChild(script);
</script>
<!---->


<!-- INIT SUPABASE TRÆ¯á»šC -->
<script type="module">
  import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm';

  const supabase = createClient(
    'https://defkqhylqphoqiikvbii.supabase.co', 'sb_publishable_vzdQpgqjLL2VE0Oyc0kEJQ_P8XqBwkh'
  );

  // LÆ°u vÃ o window náº¿u cáº§n cÃ¡c file khÃ¡c dÃ¹ng (khÃ´ng khuyáº¿n khÃ­ch láº¯m, tá»‘t nháº¥t dÃ¹ng import)
  window.supabase = supabase;

  console.log('Supabase client initialized');

  // CÃ¡ch load script theo thá»© tá»± vÃ  chá» nhau (cÃ¡ch Ä‘Æ¡n giáº£n nháº¥t)
  async function loadScriptsInOrder() {
    const scripts = [
      'Admin.js',         // cáº§n user Ä‘á»ƒ test db
      //'Products.js',
      //'ProductCreate.js',
      'ProductsNew.js'.js,
      'RenderProducts.js',
      'RenderDetailProduct.js',
      'MyTasks.js'             // routing + UI cuá»‘i cÃ¹ng
    ];
//      './framework/init_API.js',

    for (const src of scripts) {
      await new Promise((resolve, reject) => {
        const script = document.createElement('script');
        //script.type = 'module'; // ráº¥t quan trá»ng náº¿u file dÃ¹ng import/export
        script.src = src;
        script.onload = () => {
          console.log(`Loaded: ${src}`);
          resolve();
        };
        script.onerror = () => {
          console.error(`Failed to load: ${src}`);
          reject();
        };
        document.body.appendChild(script);
      });
    }

    console.log('All core scripts loaded!');
    // CÃ³ thá»ƒ dispatch event Ä‘á»ƒ bÃ¡o cho app biáº¿t Ä‘Ã£ sáºµn sÃ ng
    window.dispatchEvent(new Event('app:ready'));
  }

  // Cháº¡y sau khi supabase sáºµn sÃ ng
  loadScriptsInOrder().catch(err => {
    console.error('Critical error loading application scripts', err);
  });
</script>









</body>
</html>

<!----
https://framework-frontend-vdom-v01.vercel.app/postsnew
<!---->